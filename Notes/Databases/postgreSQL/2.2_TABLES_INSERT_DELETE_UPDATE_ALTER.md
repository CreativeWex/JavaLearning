# Столбцы | ALTER
Добавление нового столбца
```
ALTER TABLE Название_таблицы
ADD Название_столбца Тип(макс кол-во символов для ввода) [ограничения];
```
Удаление столбца
```
ALTER TABLE products DROP COLUMN название;
```
Переименование столбца
```
ALTER TABLE products RENAME COLUMN старое_название TO новое_название;
```
Изменение типа данных столбца
```
ALTER TABLE название_таблицы ALTER COLUMN стобец TYPE тип(макс кол-во символов для ввода);
```


<br>

# Добавить строку | INSERT INTO
Добавить строку в таблицу 
```
INSERT INTO Название_таблицы
(через_запятую_поля_которые_требуется_изменить)
VALUES (значения_полей),
(значения_полей),
(значения_полей);
```
Текстовые значение вводятся в одинарных ковычках (Пример: \`значение\`)

<br>

## Добавление записей из другой таблицы

С помощью запроса на добавление можно не только добавить в таблицу конкретные значения (список **VALUES**), но и записи из другой таблицы, отобранные с помощью запроса на выборку.  В этом случае вместо раздела **VALUES** записывается запрос на выборку, начинающийся с **SELECT**.  В нем можно использовать **WHERE**, **GROUP** **BY**, **ORDER BY**
```
INSERT INTO book (title, author, price, amount) 
SELECT title, author, price, amount 
FROM supply;

SELECT * FROM book;
```

<br>

## Добавление записей, вложенные запросы
**Пример:** Занести из таблицы supply в таблицу book только те книги, авторов которых нет в  book.

```
INSERT INTO book
(title, author, price, amount)
SELECT title, author, price, amount FROM supply
WHERE author NOT IN (SELECT author FROM book);
```







<br>

# Обновить данные | UPDATE
```
UPDATE Название_таблицы
SET price = 10
WHERE критерий строки;
```
Пример: **UPDATE products SET price = 10 WHERE price = 5;** -  увеличивает цену всех товаров, имевших до этого цену 5, до 10

<br>

## Запросы на обновление нескольких столбцов
Синтаксис
```
UPDATE таблица SET поле1 = выражение1, поле2 = выражение2
```
**Пример:** 
```
UPDATE book 
SET amount = amount - buy,
    buy = 0;
```

<br>

## Обновление нескольких таблиц
В запросах на обновление можно использовать несколько таблиц, но тогда

- для столбцов, имеющих одинаковые имена, необходимо указывать имя таблицы, к которой они относятся, например, **book.price** – столбец **price** из таблицы **book**, **supply.price** – столбец **price** из таблицы **supply**;
- все таблицы, используемые в запросе, нужно перечислить после ключевого слова **UPDATE**;
- в запросе обязательно условие **WHERE**, в котором указывается условие при котором обновляются данные.

**Пример**: Если в таблице supply  есть те же книги, что и в таблице book, добавлять эти книги в таблицу book не имеет смысла. Необходимо увеличить их количество на значение столбца amountтаблицы supply.
```
UPDATE book, supply 
SET book.amount = book.amount + supply.amount
WHERE book.title = supply.title AND book.author = supply.author;
```
<br>

# Удаление строк из таблицы | DELETE
Синтаксис:
```
DELETE FROM таблица
WHERE условие;
```
`DELETE FROM таблица;` - удалить все записи из таблицы









<br>

# Источники


https://postgrespro.ru/docs/postgresql/9.6/ddl-alter#ddl-alter-removing-a-column

https://postgrespro.ru/docs/postgrespro/9.5/ddl-constraints
