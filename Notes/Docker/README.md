# Содержание
* Теория
  * [Docker](#docker)
  * [Контейнеры](#containers)
  * [Образы](#image)
  * [Репозитории](#repository)

---

<a name = "docker"></a>

# Docker

**Docker** позволяет создавать контейнеры, автоматизировать их запуск и развертывание, управляет жизненным циклом.
Он позволяет запускать множество контейнеров на одной хост-машине.

Преимущества Docker:
- Приложения запускаются в изолированной среде;
- Легко запускать приложения на разных серверах;
- Все зависимости приложений устанавливаются внутри контейнеров;
- Легко масштабировать путем увеличения количества контейнеров (распределять нагрузку
на приложение)

### Компоненты Docker

- **CLIENT** (клиент) - запускается в командной строке и с помощью него можно подключаться к службе.
- **DAEMON** (служба) - отвечает за задачи по созданию контейнеров и обработки запросов клиентов
- **HOST** (хост) - пк, на котором запущен Docker.
- **CONTAINER** - Контейнер.
- **IMAGE** (образ) - основа для создания контейнеров. Из одного образа можно создать множество разных независимых друг от друга контейнеров.
- **REPOSITORY** (репозиторий) - множество различных версий образов.
- **REGISTRY** (реестр) - множество репозиториев. Самый популярный - DockerHub.

## Контейнеры

<a name = "containers"></a>

**Контейнеры** используются для развертки приложения и изолирования приложений друг от друга. Контейнеры
упаковывают в процессе сборки приложение и все его зависимости - библиотеки, системные утилиты, файлы настройки
в единый **образ**. Образ может быть создан на основе другого образа. Сам контейнер - выполняющийся образ.

**Контейнеризация** - процесс создания виртуальной машины, внутри которой запускается приложение.

Контейнер отличается от виртуального сервера тем, что внутри контейнера нет своей полноценной ОС.

### Преимущества использования контейнеров
1. **Упрощает перенос** приложения на другую инфраструктуру;
2. Приложения работают только внутри контейнеров и не имеют доступа к основной операционной системе. Это **повышает
   безопасность приложений**:они не смогут случайно или умышленно навредить основной системе. Если приложение
   в контейнере завершится с ошибкой или зависнет, это никак не затронет основную ОС.
3. Контейнеры приближают к **микросервисной архитектуре** (подход к разработке, при котором приложение на небольшие
   независмые компоненты. Противопоставляется монолитной архитектуре, где все части системы сильно связаны друг с другом).

<a name = "image"></a>

## Образы

Представляет собой множество файлов. Из одного образа можно создать множество контейнеров.
> Образ отличается от контейнера тем, что в контейнере есть запущенные процессы, т. е. они выполняют какие-то команды, которые описаны в образе.
> Образы статичны, а контейнеры динамичны

### Строение образов

Образ состоит из слоев, каждый слой представляет собой набор файлов (file system layers).
К первоначальному, **базовому слою**, примыкают другие слои, которые используются в разных образах. То есть, может быть
несколько образов, слои которых пересекаются.

Свойства

- Все слои read-only;
- Образы можно перемещать и удалять;
- Образы хранятся в репозиториях;
- Есть официальные образы и обррзы сообшества;

**Каждый образ - набор слоев, а каждый слой - набор файлов.**

<a name = "repository"></a>

## Репозитории

Набор версий образов, с различными тегами.

Свойства:
- В репозитории хранятся разные версии образа;
- Разные версии помечаются разными тегами;
- Одна и та же версия может иметь несколько тегов;